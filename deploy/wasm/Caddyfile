:80 {
    root * /srv
    file_server

    # Note: COOP/COEP headers for SharedArrayBuffer should be set by the
    # outer reverse proxy (e.g., main Caddy server) to avoid duplicates

    # Serve QtThermalFIST.html as index
    try_files {path} /QtThermalFIST.html

    # Prevent browser from caching stale WASM builds
    @wasm_assets path *.js *.wasm
    header @wasm_assets Cache-Control "no-cache, must-revalidate"

    # Enable compression
    encode gzip
}
